Metadata-Version: 2.4
Name: aithon
Version: 0.1.1
Summary: AI-First Structured Python with numbered block terminators
Author-email: Kirk Cameron <kirk@example.com>
License: MIT
Project-URL: Homepage, https://github.com/kirkcameron/aithon
Keywords: python,ai,code,formatter,block,terminator
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.8
Description-Content-Type: text/markdown

# Aithon (.ai) - AI-First Structured Python

**AI + Python. Injects #/<line> markers into Python code for AI-assisted editing.**

---

## What is Aithon?

Aithon injects AI-readable `#/<line>` markers at Python block boundaries. The marked output can be fed to AI agents for targeted code edits.

## The Problem

When code is pasted through repeated AI conversation turns, whitespace gets corrupted: tabs become spaces, indentation drifts, structure breaks. AI must guess where blocks start/end based on indentation.

## The Solution

Aithon adds `#/<line>` markers that survive reformatting:

```python
def calculate(x, y):        # line 1
    if x > 0:              # line 2
        if y > 0:          # line 3
            return x + y   # line 4
#/5                        # line 5 - marker = block ends at line 5
        elif y < 0:         # line 6
            return x - y   # line 7
#/8                        # line 8 - marker = block ends at line 8
        else:               # line 9
            return 0       # line 10
#/11                       # line 11 - marker = block ends at line 11
```

Now AI can reference exact blocks: "edit the function after #/3" works even after 10 reformat passes.

## Marker Placement

- **Valid Python**: `#/<line>` AFTER each block ends (AST parsing)
- **Broken Python**: `#/<line>` BEFORE each block starts (heuristic fallback)

## NOT a Formatter

Does NOT fix broken code. Does NOT fix indentation. Does NOT reformat. Only adds `#/<line>` markers to existing code structure.

## Usage

```bash
# Install
pip install git+https://github.com/kirkcameron/aithon.git
# or
pip install -e .

# Single file (replica mode - creates new _ai file)
aithon --source input.py --target input_ai.py

# Directory (creates _ai files in output directory)
aithon --srcdir ./src/ --tgtdir ./ai/

# Directory (replace - overwrites originals!)
aithon --srcdir ./src/ --tgtdir ./src/ --action replace

# Dry run
aithon --srcdir ./src/ --dryrun

# Restore - remove markers
aithon --action restore --source input_ai.py --target output.py
aithon --action restore --srcdir ./ai/ --tgtdir ./clean/
```

## Actions

| Action | Behavior |
|--------|----------|
| `replica` (default) | Creates new `_ai.py` file. Original unchanged. |
| `replace` | Overwrites original file. Cannot be undone! |
| `restore` | Remove `#/<line>` markers from files. |

## Examples

See `aithon/example.py` → `aithon/example_ai.py` (valid Python)
See `aithon/complex.py` → `aithon/complex_ai.py` (broken Python)

## How to Edit

Reference blocks by marker, then describe the change:

- "Rewrite the function after #/3 to use pathlib instead of os.path"
- "Add error handling to the block after #/7"
- "Replace the if-statement at #/5 with a match/case"

The marker pins the exact code section. The prompt does the rest.

## Idempotent

Aithon can be run on any file, any number of times:
- Adds `#/<line>` markers to `.py` files
- Strips old markers from `_ai.py` files first
- Run 10 times → same result

## License

MIT License.

---

**Aithon: Code that thinks like AI does.**
